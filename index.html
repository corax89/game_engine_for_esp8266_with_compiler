<!DOCTYPE html>
<html>
<title>esp8266gameEngine</title>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#7CCD7C">
  <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
<link rel="stylesheet" type="text/css" href="style.css" />
	<div id="menu">
		<a href="#about" onclick="viewAbout();" id="embleme" class="hrefb"><b style="color:#000;">esp</b>lge</a>
		<button onclick="onlyAsm();" style="display:none">asm</button>
		<button onclick="main();">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 16 16">
				<path fill="white" d="M1 12h4v4H1v-4z"/><path fill="white" d="M6 12h4v4H6v-4z"/><path fill="white" d="M11 12h4v4h-4v-4z"/>
				<path fill="white" d="M1 7h4v4H1V7z"/><path fill="white" d="M1 2h4v4H1V2z"/><path fill="white" d="M6 7h4v4H6V7z"/>
				<path fill="white" d="M7 1h4v4H7V1z"/><path fill="white" d="M11 7h4v4h-4V7z"/><path fill="white" d="M13 0h3v3h-3V0z"/>
			</svg>
			compile</button>
		<button class="only_mobile" onclick="sourceArea.scrollIntoView(false);">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512">
			<path fill="white" d="M398 78c7 0 12-6 12-12V27C410 12 398 0 383 0H122c-3 0-6 1-9 4L11 106c-2 2-4 5-4 9v370C7 500 19 512 34 512h349c15 0 27-12 27-27V296c0-7-6-12-12-12 -7 0-12 6-12 12v189c0 1-1 2-2 2H34c-1 0-2-1-2-2v-358h75c15 0 27-12 27-27V25H383c1 0 2 1 2 2V66C385 73 391 78 398 78zM109 100c0 1-1 2-2 2H49l60-60V100z"/>
			<path fill="white" d="M493 100l-15-15c-16-16-43-16-59 0L304 201H104c-7 0-12 6-12 12 0 7 6 12 12 12h175l-74 74H104c-7 0-12 6-12 12s6 12 12 12h76l0 0c-2 2-3 3-3 5l-19 69h-54c-7 0-12 6-12 12s6 12 12 12h63c0 0 3 0 3 0 0 0 78-22 78-22 2-1 4-2 5-3l239-239C509 143 509 117 493 100zM185 394l10-36 26 26L185 394zM245 373l-39-39 198-198 39 39L245 373zM475 142l-16 16 -39-39 16-16c7-7 18-7 24 0l15 15C482 125 482 135 475 142z"/>
			</svg>
			source
		</button>
		<button onclick="spriteEditor.edit()">
			<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 48 48" width="24">
			<path fill="white" d="M44 32H4v-8c0-2 2-4 4-4h10c0 0 1 0 1 0s0-1 0-1C18 17 18 15 18 14V6c0-3 3-6 6-6s6 3 6 6v8c0 2 0 3-1 5 0 0 0 1 0 1S30 20 30 20H40c2 0 4 2 4 4V32zM6 30h36v-6c0-1-1-2-2-2H30c-1 0-2 0-2-1s-1-2 0-3C28 17 28 15 28 14V6c0-2-2-4-4-4s-4 2-4 4v8c0 1 0 3 1 4 0 1 0 2 0 3S19 22 18 22H8c-1 0-2 1-2 2V30z"/>
			<path fill="white" d="M41 48H16c0 0-1 0-1 0S15 47 15 47v-4l-2 4C13 48 12 48 12 48H7c-1 0-1 0-1-1V31c0-1 0-1 1-1h34c1 0 1 0 1 1v16C42 48 42 48 41 48zM17 46h23V32H8v14h3l4-7c0 0 1-1 1-1C17 38 17 39 17 39L17 46z"/><path d="M37 48c-1 0-1 0-1-1V37c0-1 0-1 1-1s1 0 1 1v10C38 48 38 48 37 48z"/>
			<path fill="white" d="M33 48c-1 0-1 0-1-1v-8c0-1 0-1 1-1s1 0 1 1v8C34 48 34 48 33 48z"/><path d="M29 48c-1 0-1 0-1-1v-5c0-1 0-1 1-1s1 0 1 1v5C30 48 30 48 29 48z"/><circle cx="24" cy="6" r="2"/>
			</svg>
		sprite</button>
		<button onclick="viewHelp();">
		<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 16 16" width="24">
		<g fill="none"><path fill="white" d="M7 11L7 13 9 13 9 11ZM8 16C4 16 0 12 0 8 0 4 4 0 8 0 12 0 16 4 16 8 16 12 12 16 8 16ZM6 4C5 4 4 5 4 6L6 6C6 6 6 5 7 5 7 5 7 5 8 5 9 5 9 5 9 5 9 5 10 6 10 6 10 6 9 7 9 7L9 7 8 8C8 8 7 8 7 9 7 9 7 9 7 10L9 10C9 10 9 10 9 9 9 9 9 9 10 9L10 8C11 8 11 8 11 7 12 7 12 6 12 6 12 5 12 4 11 4 10 3 9 3 8 3 7 3 6 3 6 4ZM6 4"/></g></svg>
		help</button>
		<button onclick="viewSettings();">
		<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 48 48" width="24">
		<path path fill="white" d="M11 46L11 46c-1 0-2 0-4-1 0 0-1 0-1-1s0-1 0-1l4-4v-3H8L4 41c0 0-1 0-1 0 0 0-1 0-1-1 -1-3-1-7 2-10 2-2 4-3 6-3 1 0 2 0 3 0l15-15c-1-3 0-7 2-9 2-2 4-3 6-3 1 0 2 0 4 1 0 0 1 0 1 1s0 1 0 1L37 8v3h3l4-4c0 0 1 0 1 0 0 0 1 0 1 1 1 3 1 7-2 10C42 19 39 20 37 20c-1 0-2 0-3 0L20 34c1 3 0 7-2 9C16 45 13 46 11 46zM10 44C10 44 11 44 11 44c2 0 4-1 5-2 2-2 3-5 1-8 0 0 0-1 0-1L33 18c0 0 1 0 1 0C35 18 36 18 37 18c2 0 4-1 5-2 2-2 2-4 2-6l-3 3c0 0 0 0-1 0H36c-1 0-1 0-1-1V7c0 0 0-1 0-1l3-3c0 0-1 0-1 0 -2 0-4 1-5 2 -2 2-3 5-1 8 0 0 0 1 0 1L15 30c0 0-1 0-1 0 -1 0-2-1-3-1 -2 0-4 1-5 2 -2 2-2 4-2 6l3-3c0 0 0 0 1 0h4c1 0 1 0 1 1v4c0 0 0 1 0 1L10 44z"/>
		<path fill="white" d="M42 46c-1 0-2 0-3-1l-9-9c0 0 0-1 0-1l4-4c0 0 1 0 1 0l9 9C46 40 46 41 46 42c0 1 0 2-1 3C44 46 43 46 42 46zM32 35l8 8c1 1 2 1 3 0C44 43 44 43 44 42s0-1-1-1L35 32 32 35z"/>
		<rect fill="white" height="2" transform="matrix(0.7071 0.7071 -0.7071 0.7071 15.776 -6.535)" width="16" x="8" y="15"/>
		<path path fill="white" d="M29 38c0 0-1 0-1 0 0 0 0-1 0-1l8-8c0 0 1 0 1 0s0 1 0 1l-8 8C29 38 29 38 29 38z"/><path fill="white" d="M9 12c0 0-1 0-1 0L2 7C2 6 2 6 2 6s0-1 0-1l3-3c0 0 1 0 1 0l6 6c0 0 0 0 0 1s0 1 0 1l-3 3C9 12 9 12 9 12zM4 6l4 4 1-1L6 4 4 6z"/>
		<rect fill="white" height="2" transform="matrix(0.7071 0.7071 -0.7071 0.7071 29.3955 -12.1756)" width="10" x="24" y="28"/></svg>
		settings</button>
		<div class="drop-menu hrefb">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 1000 1000">
			<path fill="white" d="M622.5 683.8H408.1c-16.9 0-30.6 13.7-30.6 30.6v61.3c0 16.9 13.7 30.6 30.6 30.6h214.4v153.1L928.7 745 622.5 530.6V683.8L622.5 683.8zM101.9 10C85 10 71.3 23.7 71.3 40.6v918.7c0 16.9 13.7 30.6 30.6 30.6h214.4V867.5H193.8v-735H500v214.4c0 16.9 13.7 30.6 30.6 30.6H745V500h122.5c0-51.6 0-183.8 0-183.8L561.2 10 101.9 10 101.9 10z"/>
			</svg>
			export<br>▼
			<ul class="sub-menu">
				<li><button onclick="savebin(1);">export .html5</button></li>
				<li><button onclick="savebin(2);">export .lge</button></li>
				<li><button onclick="savebin(3);">export .h</button></li>
			</ul>
		</div>
		<div class="drop-menu hrefb">
			<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 512 512" width="24"><style>.a{fill:#fff;stroke-linejoin:round;stroke:#fff;}</style>
			<rect height="46" width="46" x="146" y="151" class="a"/><rect height="46" width="46" x="233" y="151" class="a"/><rect height="46" width="46" x="321" y="151" class="a"/><rect height="46" width="46" x="146" y="233" class="a"/><rect height="46" width="46" x="233" y="233" class="a"/><rect height="46" width="46" x="321" y="233" class="a"/><rect height="46" width="46" x="146" y="315" class="a"/><rect height="46" width="46" x="233" y="315" class="a"/>
			<rect height="46" width="46" x="321" y="315" class="a"/></svg>
			utilities<br>▼
			<ul class="sub-menu">
				<li><a href="soundEditor.html"  target="_blank" class="hrefb">rtttl editor</a></li>
				<li><a href="ImageConverter.html"  target="_blank" class="hrefb">image converter</a></li>
				<li><a href="https://haroldo-ok.itch.io/bitsy-converter"  target="_blank" class="hrefb">bitsy converter</a></li>
			</ul>
		</div>
		<a href="gamelist/index.html" id="gameListLink" target="_blank">List of games&nbsp;
			<img src="games.png" style="position:absolute;left:0;z-index:-1;">
		</a>
	</div>
	<div id="container">
		<div id="wrap-left">
			<div class="header">control</div>
			<div id="control">
				<button class="bigButton" onclick="startButton()">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="38" height="46">
					<path fill="white" d="M256 0C115.03 0 0 115.05 0 256c0 140.97 115.05 256 256 256 140.97 0 256-115.05 256-256C512 115.03 396.95 0 256 0zm0 482C131.383 482 30 380.617 30 256S131.383 30 256 30s226 101.383 226 226-101.383 226-226 226zm-75-77.973L403.043 256 181 107.973zm30-240L348.957 256 211 347.973zm0 0"/></svg>
				</button>
				<button class="bigButton" onclick="isRun=false;cpu.step();document.getElementById('debug').value = cpu.debug();clearTimeout(timerId);">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="38" height="46">
					<path fill="white" d="M298.794 386.71c27.805 9.522 52.357 15.587 87.633 26.427-13.552 171.236-175.475 103.233-87.633-26.427zM443.366 229.41c-1.826-51.415-10.882-118.86-83.017-108.292-33.815 8.825-58.8 45.962-70.55 110.035-6.454 35.23-2.7 84.678 4.912 114.32 6.95 20.89 4.587 19.605 12.058 23.572 28.916 6.514 57.542 13.725 86.693 21.078 29.614-20.913 53.936-131.94 49.905-160.713zm-222.614-3.946c7.607-29.646 11.36-79.095 4.91-114.32C213.92 47.067 188.93 9.924 155.1 1.105 82.975-9.463 73.92 57.98 72.093 109.4c-4.03 28.768 20.294 139.802 49.91 160.71l86.696-21.078c7.462-3.963 5.098-2.68 12.052-23.57zm-91.723 67.67c13.547 171.234 175.47 103.23 87.63-26.427-27.805 9.523-52.355 15.587-87.63 26.427z"/></svg>
				</button>
				<button class="bigButton" onclick="stopCpu()">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="38" height="46">
					<path fill="white" d="M496.35 134.3L377.65 15.6C367.55 5.5 354.25 0 339.95 0h-167.9c-14.2 0-27.6 5.5-37.7 15.6L15.65 134.4C5.55 144.5.05 157.8.05 172.1v167.8c0 14.3 5.5 27.7 15.6 37.8l118.8 118.7c10.1 10.1 23.4 15.6 37.7 15.6h167.8c14.3 0 27.7-5.5 37.8-15.6l118.6-118.8c10.1-10.1 15.6-23.4 15.6-37.7V172c0-14.2-5.5-27.6-15.6-37.7zm-5.5 205.6c0 8.6-3.3 16.6-9.4 22.7l-118.7 118.7c-6.1 6.1-14.1 9.4-22.7 9.4h-167.9c-8.6 0-16.6-3.3-22.7-9.4L30.75 362.6c-6.1-6.1-9.4-14.1-9.4-22.7V172c0-8.5 3.4-16.6 9.4-22.6l118.8-118.7c6-6.1 14-9.4 22.6-9.4h167.8c8.6 0 16.6 3.4 22.7 9.4l118.8 118.7c6.1 6.1 9.4 14.1 9.4 22.7v167.8zm-379.6-93.6l-3.2-1c-11.8-3.3-22.7-8.9-22.7-26.6 0-14.7 9.6-26.7 21.4-26.7 11.2 0 20.6 10.9 21.2 24.9.3 5.9 4.9 11.1 11.2 10.1 5.9-.3 10.4-5.3 10.1-11.2-1.3-25.2-20.1-45-42.6-45-23.6 0-42.7 21.5-42.7 48 0 16.5 6.7 38.1 38.2 47.1l3.2.9c11.8 3.4 22.7 8.9 22.7 26.6 0 14.7-9.6 26.7-21.4 26.7-11.2 0-20.5-11-21.3-24.9-.3-5.9-4.7-10.5-11.2-10.1-5.9.3-10.4 5.3-10.1 11.2 1.3 25.2 20.1 45 42.6 45 23.6 0 42.7-21.5 42.7-47.9 0-24-12.8-39.8-38.1-47.1zm134.1-75.7h-85.3c-5.9 0-10.7 4.8-10.7 10.7s4.8 10.7 10.7 10.7h85.3c5.9 0 10.7-4.8 10.7-10.7s-4.8-10.7-10.7-10.7z"/><path  fill="white" d="M202.75 170.6c-5.9 0-10.7 4.8-10.7 10.7v149.3c0 5.9 4.8 10.7 10.7 10.7s10.6-4.7 10.7-10.7V181.3c0-5.9-4.8-10.7-10.7-10.7zm96 0c-23.6 0-42.7 19.2-42.7 42.7v85.3c0 23.6 19.2 42.7 42.7 42.7s42.6-19.1 42.7-42.7v-85.3c0-23.6-19.1-42.7-42.7-42.7zm21.3 128c0 11.7-9.5 21.3-21.3 21.3-11.7 0-21.3-9.5-21.3-21.3v-85.3c0-11.7 9.5-21.3 21.3-21.3 11.7 0 21.3 9.6 21.3 21.3v85.3zm96-128h-42.7c-5.9 0-10.7 4.8-10.7 10.7v149.3c0 5.9 4.8 10.7 10.7 10.7s10.7-4.7 10.7-10.7v-53.3h32c17.6 0 32-14.4 32-32v-42.7c0-17.6-14.4-32-32-32zm10.7 74.7c0 5.9-4.8 10.7-10.7 10.7h-32v-64.1h32c5.9 0 10.7 4.8 10.7 10.7v42.7z"/></svg>
				</button>
				<button class="bigButton" onclick="saveAsGif();"> 
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="38" height="46">
					<path fill="white" d="M256 226c-33 0-60 27-60 60 0 33 27 60 60 60 33 0 60-27 60-60C316 253 289 226 256 226z"/><path fill="white" d="M482 120H437v-15C437 89 423 75 407 75h-90C300 75 286 89 286 105V120H30C13 120 0 134 0 151v256C0 423 13 437 30 437h452c8 0 16-3 21-9 6-6 9-13 9-21V151C512 134 499 120 482 120zM120 196H45v-30h75V196zM256 376c-50 0-90-40-90-90 0-50 40-90 90-90 50 0 90 40 90 90C346 336 306 376 256 376zM422 226c-17 0-30-13-30-30 0-17 13-30 30-30 17 0 30 13 30 30C452 212 438 226 422 226z"/></svg>
				</button>
				<button class="bigButton" onclick="viewDebugPanel();"> 
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="38" height="46">
					<path fill="white" d="M457.238 54.762c-73.043-73.023-191.187-73.008-264.22 0-59.676 59.676-72.637 154.063-28.105 228.258L13.277 434.656c-17.613 17.613-17.793 46.266 0 64.06 17.73 17.73 46.4 17.7 64.066 0l151.597-151.6c70.375 42.445 165.3 34.863 228.297-28.137 73.023-73.043 73.008-191.188 0-264.22zm-401.766 422.1c-5.508 5.53-14.598 5.727-20.324 0a14.35 14.35 0 0 1 0-20.324L183.25 308.426c6.098 7.137 12.973 14.02 20.313 20.336zm285.1-134.824v-22.355c0-8.543-6.914-15.46-15.457-15.46-8.535 0-15.46 6.918-15.46 15.46v22.355c-73.684-7.223-132.316-65.687-139.62-139.7h22.285a15.46 15.46 0 0 0 15.461-15.457c0-8.547-6.914-15.46-15.46-15.46h-22.285c7.406-74.922 66.902-132.586 139.62-139.703v22.367a15.47 15.47 0 0 0 15.461 15.461 15.46 15.46 0 0 0 15.457-15.461V31.72c73.73 7.2 132.484 65.918 139.703 139.7H457.92a15.46 15.46 0 0 0-15.461 15.461 15.47 15.47 0 0 0 15.461 15.461h22.367c-7.22 73.742-65.918 132.47-139.703 139.688zM444.746 138.25c-1.578-8.4-9.656-13.914-18.06-12.328l-12.2 2.297a48.24 48.24 0 0 0-24.656-24.621l2.3-12.227a15.47 15.47 0 0 0-12.324-18.059c-8.402-1.586-16.484 3.938-18.06 12.328l-2.906 15.38c-10.836 2.72-17.45 7.852-24.367 14.77-13.63-5.656-29.586-4.898-42.773 2.586L280 106.656a15.47 15.47 0 0 0-21.871 0c-6.03 6.043-6.03 15.82 0 21.863l10.473 10.473-13.77 13.758-10.465-10.46c-6.04-6.04-15.82-6.04-21.86 0-6.04 6.027-6.04 15.82 0 21.86l10.945 10.95c-23.47 30.6-21.203 74.723 6.793 102.715 28.246 28.246 72.336 30.176 102.73 6.805l10.945 10.945c6.035 6.04 15.832 6.027 21.86 0a15.46 15.46 0 0 0 0-21.863l-10.473-10.47 13.773-13.762 10.46 10.46c6.027 6.03 15.832 6.04 21.87 0s6.04-15.82 0-21.86l-11.72-11.72c7.62-13.465 8.13-29.414 2.586-42.773 3.313-3.312 11.367-10.668 14.793-24.375l15.355-2.898c8.4-1.586 13.902-9.664 12.316-18.055zm-182.63 50.957l10.656-10.656 22.44 22.438c-13.312 13.332 5.973-5.973-42.188 42.188-8.738-18.04-5.113-39.824 9.1-53.97zm66.746 66.746c-14.9 14.852-36.715 17.504-53.996 9.113l42.207-42.207 22.438 22.438-10.648 10.656zm40.94-40.95l-8.422 8.434-66.746-66.75 8.418-8.422c7.086-7.078 18.46-6.926 25.387 0l41.363 41.352c6.602 6.605 7.477 17.914 0 25.387zm13.203-55.906l-24.035-24.043a17.03 17.03 0 0 1 23.633.41c6.484 6.496 6.63 16.965.402 23.633zm0 0"/></svg>
				</button>
			</div>
			<br>
			<div class="header">monitor</div>
			<div id="monitor">
				<div id="memoryPreview">
					<button onclick="setMemoryPage('m')">-</button>
					<input id="memoryPage" value="00" onkeydown="if(event.keyCode==13)setMemoryPage(this.value)">
					<button onclick="setMemoryPage('p')">+</button>
					<textarea id="areaMemoryPrewiew" disabled="disabled"></textarea>
				</div>
				<div id="keysPreview"></div>
				<div id="cont">
					<canvas id="screen" width="256" height="512" ondblclick="fullScr()"></canvas>
					<canvas id="copyscreen" width="256" height="256" style="display:none"></canvas>
					<div id="viewKeyboard">print on keyboard</div>
				</div>
				<button onclick="listing();">listing</button>
				<button onclick="debugVars();">debug</button>
				<div id="cpuPreview">
					speed,Hz
					<select id="cpuSpeed" name="cpuSpeed" onchange="cpuSpeed=this.value">
						<option selected value="8000">500 000</option>
						<option value="3200">200 000</option>
						<option value="1600">100 000</option>
						<option value="800">50 000</option>
						<option value="400">25 000</option>
						<option value="160">10 000</option>
						<option value="80">5 000</option>
						<option value="16">1 000</option>
						<option value="8">500</option>
						<option value="2">100</option>
					</select>
					<textarea id="debug" disabled="disabled"></textarea>
				</div>				
			</div>
			<br>
			<div class="header">information</div>
			<div id="alert"></div>
			<br>
			<textarea id="ram"></textarea>
			<select id="example" name="example">
				<option value="0">particle</option>
				<option value="1">pi</option>
				<option value="2">snake</option>
				<option value="3">sprite</option>
				<option value="4">maze generate</option>
				<option value="5">platform</option>
				<option value="6">asteroids</option>
				<option value="7">space</option>
				<option value="8">flappybird</option>
				<option value="9">breackout</option>
				<option value="10">mines</option>
				<option value="11">dragon</option>
			</select>
			<button onclick="loadExample();pixelColorHighlight()">load example</button>
			<br>
			<label id ="highliteColorCheckbox" style="user-select:none;color:#fff;"><input type="checkbox" onclick="changeHighlightColors(this.checked)" style="height:1em;" id="hcolorsCheckbox" checked> highlight colors</label>
			<label style="color:#fff;"><input type="checkbox" onclick="sound.rtttl.globalSound = this.checked" id="soundCheckbox" checked> sound</label>
		</div>
		<div id="wrap-right">
			<div id="editBlock">
			<table cellspacing="0" cellpadding="0" style="margin:0px 0px 0px 0px!important;font-size:1px;line-height:0px;width:auto;height:100%">
			<tr><td style="border:1px #345 solid;border-right:0px;vertical-align:top;width:1px;background-color:#343434;">
				<canvas width="52" height="511" id="inputCanvas" style="padding-right:3px;"></canvas></td>
				<td style="border:1px #345 solid;border-left:0px;vertical-align:top;width:100%;height:100%;background-color:#fff;">
				<pre id="inputImgHighlite"></pre>
				<textarea id="input" cols="80"></textarea>
				</td>
				<td>
					<button class="bigButton" style="font-size:28px;margin:0.2em;background-color:#516399;" onclick="addFontSize(true);">+</button>
					<button class="bigButton" style="font-size:28px;margin:0.2em;background-color:#516399;" onclick="addFontSize(false);">-</button>			
				</td>
				</tr></table></div>
			</div>
		</div>
	</div>
	<div class="header" style="display:none">console input</div>
	<div id="div_wind1" class="div_wind">
        <div id="drag_wind1" class="div_drag_wind" onmouseover="setup_mouse('div_wind1', 'drag_wind1');">
            <div>
               listing<div class="close" onclick="closewindow('div_wind1')">X</div>
            </div>
        </div>
        <div class="content_wind">
           <div id="disasm"></div>
        </div>
    </div>
	<div id="div_wind2" class="div_wind">
        <div id="drag_wind2" class="div_drag_wind" onmouseover="setup_mouse('div_wind2', 'drag_wind2');">
            <div>
               sprite editor<div class="close" onclick="closewindow('div_wind2')">X</div>
            </div>
        </div>
        <div id="spriteEditior">
			<div id="spriteLoad">
				<textarea id="spriteLoadArea" onclick="this.focus();this.select()"></textarea>
				<input id="spriteLoadWidth" placeholder="width, px (default 8)">
				<input type="checkbox" id="check1bitL" style="height: 0.9em;" onclick="document.getElementById('checkRleL').disabled=this.checked">
				<label for="check1bit" id="check1bitLabelL"  style="font-size:11px;">1BIT</label>
				<input type="checkbox" id="checkRleL" style="height: 0.9em;">
				<label for="checkRle" id="checkRleLabelL"  style="font-size:11px;">RLE</label>
				<button onclick="spriteEditor.load()">load</button>
				<button onclick="document.getElementById('spriteLoad').style.height='0px';document.getElementById('check1bitL').checked=false;document.getElementById('checkRleL').checked=false;">close</button>
			</div>
			<canvas id="pixelarea" width="256" height="272"></canvas>
			<canvas id="pixelimg" width="128" height="128"></canvas>
			<div id="colorpicker">
				<div id="positionInfo" style="margin-bottom: 2px;">x 0, y 0</div>
				<div onclick = "spriteEditor.backColor()" style = "background:#3C456C;width:2em;height:1.95em;float:right">
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32">
					<title>reset this color</title>
					<path fill="white" d="M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"></path>
					</svg>
				</div>
				<input style="width:4em" id="r5g6b5HEXinput">
				<div id="selectColor"></div>
				<input type="range" min="0" max="31" step="1" value="1" id="r5g6b5Rinput" onchange="spriteEditor.changePaletteColor()"> 
				<input type="range" min="0" max="63" step="1" value="1" id="r5g6b5Ginput" onchange="spriteEditor.changePaletteColor()"> 
				<input type="range" min="0" max="31" step="1" value="1" id="r5g6b5Binput" onchange="spriteEditor.changePaletteColor()">	
			</div>
			<div id="pixelpanel">
				<input name="pixeled" type="radio" value="1" onchange="spriteEditor.setType(0)" checked id="check1">
					<label for="check1" style="width:1em;height:1em;display:inline-block">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32">
						<title>pencil2</title>
						<path d="M12 20l4-2 14-14-2-2-14 14-2 4zM9.041 27.097c-0.989-2.085-2.052-3.149-4.137-4.137l3.097-8.525 4-2.435 12-12h-6l-12 12-6 20 20-6 12-12v-6l-12 12-2.435 4z"></path>
						</svg>
					</label>
				<input name="pixeled" type="radio" value="2" onchange="spriteEditor.setType(1)" id="check2">
					<label for="check2" style="width:1em;height:1em;display:inline-block">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32">
						<title>paint-format</title>
						<path d="M32 18v-12h-6v-2c0-1.1-0.9-2-2-2h-22c-1.1 0-2 0.9-2 2v6c0 1.1 0.9 2 2 2h22c1.1 0 2-0.9 2-2v-2h4v8h-18v4h-1c-0.552 0-1 0.448-1 1v10c0 0.552 0.448 1 1 1h4c0.552 0 1-0.448 1-1v-10c0-0.552-0.448-1-1-1h-1v-2h18zM24 6h-22v-2h22v2z"></path>
						</svg>
					</label>
				<input name="pixeled" type="radio" value="3" onchange="spriteEditor.setType(2)" id="check3">
					<label for="check3" style="width:1em;height:1em;display:inline-block">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32">
						<title>line</title>
						<line x1="2" y1="2" x2="30" y2="28" stroke-width="3" stroke="black" />
						</svg>
					</label>
				<button onclick="spriteEditor.clear();">cls</button>
				<button onclick = "spriteEditor.scroll(0);" style = "width: 1.7em;">
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32">
					<title>arrow-right</title>
					<path fill="white" d="M31 16l-15-15v9h-16v12h16v9z"></path>
					</svg>
				</button>
				<button onclick = "spriteEditor.scroll(1);" style = "width: 1.7em;">
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32">
					<title>arrow-up</title>
					<path fill="white" d="M16 1l-15 15h9v16h12v-16h9z"></path>
					</svg>
				</button>
				<button onclick = "spriteEditor.scroll(2);" style = "width: 1.7em;">
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32">
					<title>arrow-left</title>
					<path fill="white" d="M1 16l15 15v-9h16v-12h-16v-9z"></path>
					</svg>
				</button>
				<button onclick = "spriteEditor.scroll(3);" style = "width: 1.7em;">
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32">
					<title>arrow-down</title>
					<path fill="white" d="M16 31l15-15h-9v-16h-12v16h-9z"></path>
					</svg>
				</button>
			</div>
			<br>
			<button onclick="spriteEditor.back();">
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32">
				<title>undo</title>
				<path fill="white" d="M23.808 32c3.554-6.439 4.153-16.26-9.808-15.932v7.932l-12-12 12-12v7.762c16.718-0.436 18.58 14.757 9.808 24.238z"></path>
				</svg>
			</button>
			<button onclick="spriteEditor.repeat();">
				<svg version="1.1" style="transform: scale(-1,1)" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32">
				<title>repeat</title>
				<path fill="white" d="M23.808 32c3.554-6.439 4.153-16.26-9.808-15.932v7.932l-12-12 12-12v7.762c16.718-0.436 18.58 14.757 9.808 24.238z"></path>
				</svg>
			</button>
			<button onclick="document.getElementById('spriteLoad').style.height = '10em'">
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32">
				<title>folder-open</title>
				<path fill="white" d="M26 30l6-16h-26l-6 16zM4 12l-4 18v-26h9l4 4h13v4z"></path>
				</svg>
			</button>
			<label for="spriteWidthChoice">width: </label>
			<input list="spriteWidthList" id="spriteWidthChoice" onchange="spriteEditor.setSize()" style="width: 3em;"/>
			<datalist id="spriteWidthList">
				<option value="8">
				<option value="16">
				<option value="32">
				<option value="64">
				<option value="128">
			</datalist>
			<label for="spriteHeightChoice">height: </label>
			<input list="spriteHeightList" id="spriteHeightChoice" onchange="spriteEditor.setSize()" style="width: 3em;"/>
			<datalist id="spriteHeightList">
				<option value="8">
				<option value="16">
				<option value="32">
				<option value="64">
				<option value="128">
			</datalist>
			<input type="checkbox" id="check1bit" onclick="spriteEditor.set1bit(this.checked)">
			<label for="check1bit" id="check1bitLabel"  style="font-size:11px;">1 BIT</label>
			<input type="checkbox" id="checkRle" onclick="spriteEditor.setRle(this.checked)">
			<label for="checkRle" id="checkRleLabel"  style="font-size:11px;">RLE 100%</label>
			<textarea id="spriteArea" onclick="this.focus();this.select()">{0,0,0}</textarea>
			<button id="updateSprite" onclick="spriteEditor.updateSprite()">update sprite</button>
		</div>
    </div>
	<div id="div_wind3" class="div_wind">
        <div id="drag_wind3" class="div_drag_wind" onmouseover="setup_mouse('div_wind3', 'drag_wind3');">
            <div>
               debug<div class="close" onclick="closewindow('div_wind3')">X</div>
            </div>
        </div>
        <div class="content_wind">
			<div class="bar">
			  <button onclick="viewDebug('debugVariable')">variable</button>
			  <button onclick="viewDebug('debugSprite')">sprites</button>
			</div>
           <textarea id="debugVariable" class="debug" disabled="disabled" style="resize: horizontal;"></textarea>
		   <textarea id="debugSprite" class="debug" disabled="disabled"></textarea>
        </div>
    </div>
	<div id="div_wind4" class="div_wind" style="display:none">
        <div id="drag_wind4" class="div_drag_wind" onmouseover="setup_mouse('div_wind4', 'drag_wind4');">
            <div>
               help<div class="close" onclick="closewindow('div_wind4')">X</div>
            </div>
        </div>
        <div class="content_wind">
			<a href="http://segamiga.com/esplge/doc/#/" target="_blank" style="background-color:white;height:1.4em;display:block;margin:5px;padding:2px;border:1px solid;text-align:center;">Click here to open the full guide.</a>
			<pre id = "help_hl" style='color:#000020;background:#f6f8ff;margin:0;border: 1px solid #516399;height: 31em;overflow: auto;'>
			// screen
			void setimagesize(fixed size);
			void setclip(int x, int y, int width, int height);@clp
			void gotoxy(int x, int y);
			void scroll(int dir);@srl
			void delayredraw();@ddw
			void clearscreen();@cls
			void setframerate(int fps);

			// image
			void putimage(int address, int x, int y, int w, int h);@pim
			void putimage1bit(int address, int x, int y, int w, int h);@pib
			void putimagerle(int address, int x, int y, int w, int h);@pir

			// color & palette
			void setpalette(int n, int r5g6b5);@pal
			void setcolor(int color);@col
			void setbgcolor(int color);@bcl

			// sprite
			int spritegetvalue(int n, int type);
			void spritesetvalue(int n, int type, int value);
			int angbetweenspr(int n1, int n2);
			void getsprite(int n, int address);
			void putsprite(int n, int x, int y);
			void spritespeed(int n, int speed, int direction);
			int getspriteinxy(int x, int y);
			/*type is 
			 S_X, S_Y, S_SPEEDX, S_SPEEDY, S_WIDTH, S_HEIGHT, S_IS_ONEBIT,
			 S_ANGLE, S_LIVES, S_COLLISION, S_SOLID, S_GRAVITY, S_ON_COLLISION,
			 S_ON_EXIT_SCREEN, S_IS_SCROLLED, S_FLIP_HORIZONTAL*/

			// geometry
			void putpixel(int x, int y);@pix
			int getpixel(int x, int y);@gpx
			void line(int x, int y, int x1, int y1);
			void rect(int x, int y, int x1, int y1);
			void fillrect(int x, int y, int x1, int y1);@frc
			void triangle(int x, int y, int x1, int y1, int x2, int y2);@trn
			void filltriangle(int x, int y, int x1, int y1, int x2, int y2);@ftr
			void circle(int x, int y, int radius);@cir
			void fillcircle(int x, int y, int radius);@fcr

			// text
			char putchar(char c);
			int puts(char[] message);
			int putn(int number);
			int printf(char[] formatString, arg-list...);
			int getchar();
			void drawchar(char c, int x, int y);@chr
			void drawstring(char[] message, int x, int y);@str
			void loadfont(char[] font, int startchar, int endchar);@fnt
			void setfontsize(int imagewidth, int imageheight, int charwidth, int charheight);@fsz

			// tile map
			void loadtile(int adress, int imgwidth, int imgheight, int width, int height);
			void setcollisionmap(int adress);
			void drawtile(int x, int y);
			int gettileinxy(int x, int y); 

			// particles
			void setparticle(int gravity, int count, int time);@prt
			void setemitter(int time, int dir, int dir1, int speed);@emt
			void emittersize(int width, int height, int size);@ems
			void drawparticle(int x, int y, int color);@dpr

			// input
			int getkey();@key
			/*key is KEY_UP, KEY_LEFT, KEY_DOWN, KEY_RIGHT, 
			KEY_A, KEY_B, KEY_SELECT, KEY_START */

			// time
			void settimer(int n, int time);@stm
			int gettimer(int n);@gtm
			/* n: 0 - 7 */

			// data
			int savedata(int name, int array, int count);
			int loaddata(int name, int array);

			// sounds & music
			void tone(int freq, int delay);
			void loadrtttl(int address, int isLoop);
			void playrtttl();
			void pausertttl();
			void stoprtttl();

			// mathematics
			fixed sin(int angle);
			fixed cos(int angle);
			int distance(int x1, int y1, int x2,  int y2);

			// memory
			*int malloc(int size);
			void free(*int array);
			void memcpy(*int array1, *int array2, int size);
			</pre>
        </div>
    </div>
	<div id="div_wind5" class="div_wind">
        <div id="drag_wind5" class="div_drag_wind" onmouseover="setup_mouse('div_wind5', 'drag_wind5');">
            <div>
               settings<div class="close" onclick="closewindow('div_wind5')">X</div>
            </div>
        </div>
        <div class="content_wind">
			<div id="settings">
				language <br><br>
				<select id="lang" onchange="language=this.value">
				  <option value="eng">ENG</option>
				  <option value="rus">RUS</option>
				</select>
				<br><br>
				Properties <br>
				<label class="settingslabel" for="fileName">Name</label>
				<input id="fileName">
				<br>
				<label class="settingslabel" for="fileAuthor">Author</label>
				<input id="fileAuthor">
				
				<br>
				<label class="settingslabel" for="fileIco">Image</label>
				<input id="fileIco">
				<br>
				
				<canvas id="icon"  width="24" height="16"></canvas>
				<br>
				24x16
				<br>
				<br>
				memory array type <br><br>
				<select id="arrayType" onchange="memoryType=parseInt(this.value)">
				  <option value="0">ASM</option>
				  <option value="1">C</option>
				</select>
			</div>
			<button style="position:relative;bottom:-0.1em;left:18.6em;width:3.5em;height:2.5em;" 
				onclick="saveSettings()">apply</button>
        </div>
    </div>
	<div id="div_wind6" class="div_wind">
        <div id="drag_wind6" class="div_drag_wind" onmouseover="setup_mouse('div_wind6', 'drag_wind6');">
            <div>
               about<div class="close" onclick="closewindow('div_wind6')">X</div>
            </div>
        </div>
        <div class="content_wind" id="authors">
			<a name="about"></a>
			<a href="https://github.com/corax89/game_engine_for_esp8266_with_compiler" style="position:absolute;right:2em;top:2em;" aria-label="View source on GitHub">
				<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 439 439">
				<path d="M409 115c-20-34-46-60-80-80C296 15 259 5 219 5c-40 0-76 10-110 29 -34 20-60 46-80 80C10 148 0 185 0 225c0 48 14 91 42 129 28 38 64 65 108 79 5 1 9 0 11-2 2-2 4-5 4-9 0-1 0-6 0-15 0-10 0-18 0-25l-7 1c-4 1-9 1-16 1 -6 0-13-1-20-2 -7-1-13-4-19-9 -6-4-10-10-13-18l-3-7c-2-4-5-9-9-15 -4-5-8-9-12-11l-2-1c-1-1-3-2-4-3 -1-1-2-3-3-4 -1-1 0-2 1-3 2-1 4-1 8-1l6 1c4 1 9 3 14 7 6 4 10 9 14 15 4 8 10 14 16 18 6 4 12 6 19 6 6 0 12 0 16-1 5-1 9-2 13-4 2-13 6-23 14-29 -11-1-21-3-29-5 -9-2-18-6-27-11 -9-5-17-12-23-19 -6-8-11-18-15-30 -4-12-6-27-6-43 0-23 8-43 23-59 -7-17-6-37 2-58 6-2 14 0 25 4 11 4 19 8 24 11 5 3 9 6 12 8 18-5 36-7 55-7s37 2 55 7l11-7c7-5 16-9 26-13 10-4 18-5 23-3 9 22 9 41 2 58 15 16 23 36 23 59 0 16-2 30-6 43 -4 12-9 22-15 30 -6 8-14 14-23 19 -9 5-18 9-27 11 -9 2-18 4-29 5 10 9 15 22 15 41v60c0 3 1 6 4 9 2 2 6 3 11 2 44-15 80-41 108-79 28-38 42-81 42-129C439 185 429 148 409 115z"/></svg>
			</a>
			<h4>idea, code:</h4>
			<a href="https://hackaday.io/corax">Corax</a>
			<h4>theme:</h4>
			<a href="https://hackaday.io/Loopingstar">Loopingstar</a>
			<h4>testing, ideas, help with coding:</h4>
			<a href="https://hackaday.io/ESPboy.edu">RomanS</a><br>
			<a href="https://hackaday.io/l3pr3ch4un">Marcus de Verdier</a><br>
			<a href="https://hackaday.io/alrado">AL Rado</a><br>
			<a href="https://hackaday.io/Loopingstar">Loopingstar</a><br>
			Torabora
        </div>
    </div>
	<div id="floatButton">
		<button onclick="loadArrayAsImage()" style="height:2.2em;border:none;text-align:left;">
			<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 442 442">
			<path fill="white" d="m286 281c-12 0-22 7-27 17-3 7-4 15-1 23 3 8 8 14 15 17 4 2 8 3 12 3 12 0 23-7 27-17 7-15 1-33-14-40-4-2-8-3-13-3z"/>
			<path fill="white" d="m425 245c-2-36-26-67-59-81-6 8-12 15-19 23 27 8 48 32 50 60 1 17-4 35-16 56-23 41-83 83-153 83-17 0-33-2-49-7-3-1-6-2-9-3 0 1-1 1-1 2-4 4-10 7-17 7l-8 11c9 4 18 7 27 10 19 6 38 8 57 8h0c37 0 74-10 107-29 31-18 56-42 70-68 9-16 21-42 20-72z"/>
			<path fill="white" d="m126 218c-4-2-8-3-13-3-12 0-22 7-27 17-3 7-4 15-1 23 3 8 8 14 15 17 4 2 8 3 13 3 12 0 22-7 27-17 7-15 1-33-14-40z"/>
			<path fill="white" d="m203 132c3-15 0-29-9-40-9-10-21-16-36-16-14 0-28 5-40 15-11 9-19 21-22 34-3 15 0 29 9 40 9 10 21 16 36 16 14 0 28-5 40-15 11-9 19-21 22-34zm-37 17c-8 6-17 10-25 10-8 0-14-3-18-8-4-5-6-13-4-20 2-8 7-16 14-22 8-6 17-10 25-10 8 0 14 3 18 8 4 5 6 13 4 20-2 8-7 16-14 22z"/>
			<path fill="white" d="m70 342 23-17c0 0 0 0 0 0-28-30-44-69-47-112-2-31 5-59 22-96 18-35 51-66 92-82 11-5 22-7 32-7 9 0 17 2 26 5 18 7 33 23 40 42 4 11 7 28-2 48-4 8-6 18-5 28 0 4 1 8 2 12 9-8 18-17 27-25 0-1 1-2 1-3 11-22 12-46 3-70-10-26-31-47-56-58-12-5-24-7-37-7-14 0-28 3-43 9-47 19-86 54-106 96l0 0c-19 41-27 74-25 109 2 44 18 85 45 119 2 3 4 5 7 8z"/>
			<path fill="white" d="m75 432c1 1 1 1 2 2 1 1 1 1 2 2v0s0 0 0 0c3 3 7 7 11 7 0 0 1 0 1 0 3 0 5-2 7-6l51-67c4 1 8 0 11-3 3-3 4-7 3-10 4 1 8-1 10-3 4-4 4-9 2-14 16-12 82-76 98-92 68-68 147-167 135-180-12-12-111 66-180 135-16 16-80 82-92 98-4-2-10-1-14 2-3 3-4 7-3 10-4-1-8 1-10 3-3 3-4 7-3 10l-67 52c-3 3-5 5-5 8 0 4 2 7 5 10m49 26c-1-1-1-1-2-2l-31-31c-1-1-1-1-2-2l52-41 6 6-14 18c-2 2-1 5 0 7 1 1 2 2 4 2 1 0 2 0 3-1l19-13 6 6-40 52z"/>
			</svg>
			Open in sprite editor
		</button>
	</div>
	<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
	<script type="text/javascript" src="FileSaver.js"></script>
	<script type="text/javascript" src="saveashtml.js"></script>
	<script type="text/javascript" src="asm.js"></script>
	<script type="text/javascript" src="cpu.js"></script>
	<script type="text/javascript" src="spriteEditor.js"></script>
	<script type="text/javascript" src="compiler.js"></script>
	<script type="text/javascript" src="font.js"></script>
	<script type="text/javascript" src="sound.js"></script>
	<script type="text/javascript" src="ui.js"></script>
	<script type="text/javascript" src="gifjs/gif.js"></script>
	<script type="text/javascript" src="example.js"></script>
</body>
</html>
